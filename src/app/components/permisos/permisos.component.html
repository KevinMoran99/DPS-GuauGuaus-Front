<div class="container">
  <div *ngIf="userType">
    <nav aria-label="breadcrumb">
      <ul class="breadcrumb">
        <li class="breadcrumb-item active" aria-current="page">
          <button mat-raised-button color="accent" routerLink='/tipo-usuarios'>Regresar a lista de tipos de usuario</button>
        </li>
      </ul>
    </nav>
    <h3 class="title">Permisos del tipo de usuario {{userType.name}}</h3>
  </div>
  <div [hidden]="!permissions">
    <h3 class="title" *ngIf="!userType">Permisos</h3>
    <table #dataTable mat-table [dataSource]="permissions">
      <!--Name Col -->
      <ng-container matColumnDef="registro">
        <th mat-header-cell *matHeaderCellDef>Registro</th>
        <td mat-cell *matCellDef="let item">{{item.registro}} </td>
      </ng-container>
      <!--Name Col -->
      <ng-container matColumnDef="create">
        <th mat-header-cell *matHeaderCellDef>Crear</th>
        <td mat-cell *matCellDef="let item">{{item.create ? "Permitir" : "Denegar"}} </td>
      </ng-container>
      <!--Name Col -->
      <ng-container matColumnDef="read">
        <th mat-header-cell *matHeaderCellDef>Leer</th>
        <td mat-cell *matCellDef="let item">{{item.read ? "Permitir" : "Denegar"}} </td>
      </ng-container>
      <!--Name Col -->
      <ng-container matColumnDef="update">
        <th mat-header-cell *matHeaderCellDef>Actualizar</th>
        <td mat-cell *matCellDef="let item">{{item.update ? "Permitir" : "Denegar"}} </td>
      </ng-container>
      <!--Name Col -->
      <ng-container matColumnDef="delete">
        <th mat-header-cell *matHeaderCellDef>Eliminar</th>
        <td mat-cell *matCellDef="let item">{{item.delete ? "Permitir" : "Denegar"}} </td>
      </ng-container>
      <!--Name Col -->
      <ng-container matColumnDef="type_user">
        <th mat-header-cell *matHeaderCellDef>Tipo de usuario</th>
        <td mat-cell *matCellDef="let item">{{item.users_types?.name}} </td>
      </ng-container>
      <!--Name Col -->
      <ng-container matColumnDef="state">
        <th mat-header-cell *matHeaderCellDef>Estado</th>
        <td mat-cell *matCellDef="let item">{{item.state ? "Activo" : "Inactivo"}} </td>
      </ng-container>
      <ng-container matColumnDef="edit" *ngIf="permUpdate">
        <th mat-header-cell *matHeaderCellDef>Editar</th>
        <button class="edit" *matCellDef="let item" mat-mini-fab color="accent" aria-label="Update Specie"
          (click)="openDialog(item)">
          <mat-icon>edit</mat-icon>
        </button>
      </ng-container>

      <!-- ROW Info-->
      <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
      <tr mat-row *matRowDef="let rowData; columns: columnsToDisplay;"></tr>
    </table>
    <div class="paginator-container">
      <br>
      <mat-paginator [length]="100" [pageSize]="10" [pageSizeOptions]="[5, 10, 25, 100]" showFirstLastButtons>
      </mat-paginator>
      <br>
    </div>
  </div>
  <div *ngIf="!permissions">
    <h3 class="title">No hay permisos que mostrar</h3>
  </div>
  <div class="fav-icon" *ngIf="permCreate">
    <button mat-fab color="accent" aria-label="Add species" (click)="openDialog()">
      <mat-icon>add</mat-icon>
    </button>
  </div>
</div>
